# RabbitMQ操作命令

## 服务操作命令

```shell
# 启动服务，后台运行。
rabbitmq-server -detached

# 停止服务
rabbitmqctl shutdown
```

## 集群相关

```shell
# 节点状态
rabbitmqctl status

# 集群状态
rabbitmqctl cluster-status

# 加入集群
# 停止rabbitmq
rabbitmqctl stop_app
# 重置rabbitmq
rabbitmqctl reset
# 加入集群的一个节点
rabbitmqctl join_cluster rabbit@rabbitmq1
# 启动rabbitmq
rabbitmqctl start_app

# 移除一个节点
rabbitmqctl forget_cluster_node rabbit@rabbitmq2

```

## 用户相关

```shell
# 查看用户列表
rabbitmqctl list_users

# 添加用户
rabbitmqctl add_user admin 123456

# 用户授权角色
rabbitmqctl set_user_tags admin administrator

# 设置用户权限
rabbitmqctl set_permissions -p "/" admin ".*" ".*" ".*" 
```

## vhost相关

```shell
# 虚拟主机列表
rabbitmqctl list_vhosts

# 添加虚拟主机
rabbitmqctl add_vhost {vhost}

# 删除虚拟主机
rabbitmqctl delete_vhost {vhost}

# 虚拟主机的用户访问权限列表
rabbitmqctl list_permissions [-p vhost]
```

## 交换机相关

```shell
# 交换机列表
rabbitmqctl list_exchanges

# 交换机绑定队列关系列表
rabbitmqctl list_bindings
```
## 队列相关

```shell
# 队列列表
rabbitmqctl list_queues
```

## 插件相关

```shell
# 插件列表
rabbitmq-plugins list

# 启动插件
rabbitmq-plugins enable rabbitmq_management

# 停用插件
rabbitmq-plugins disable rabbitmq_management

```

## 策略

```shell
# 策略列表
rabbitmqctl list_policies [-p vhost]

# 清理一个策略
rabbitmqctl clear_policy [-p vhost] {name}
```









