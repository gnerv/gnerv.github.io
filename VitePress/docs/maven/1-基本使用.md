---
title: Maven 命令使用
---

# Maven 命令使用笔记

## 查看Maven版本
```shell
mvn -v
```

## 查看命令参数
```shell
mvn -h
```

## 配置阿里巴巴镜像仓库

打开$MAVEN_HOME/conf/settings.xml配置文件,在mirrors标签中添加以下内容

```xml
<mirrors>
   <mirror>
       <id>aliyun-maven</id>
       <mirrorOf>central</mirrorOf>
       <url>https://maven.aliyun.com/repository/public</url>
   </mirror>
</mirrors>
```
> mirrorOf: 镜像获取规则
> - \* : 所有包都从阿里巴巴仓库获取
> - external:* : 除了本地缓存之后的所有包都从阿里巴巴仓库获取
> - central : central仓库的包访问阿里云的
> - external:central:* : 除了本地缓存和central仓库之后的所有包都从阿里巴巴仓库获取

## 基本命令
```shell
# 清除编译文件
mvn clean
# 验证项目文件
mvn validate
# 编译项目文件
mvn compile
# 运行测试代码
mvn test
# 打包项目
mvn package
# 验证集成测试
mvn verify
# 部署到本地仓库
mvn install
# 生成项目文档
mvn site
# 部署到远程仓库
mvn deploy
```

## 打包指定模块
```shell
# 只打包本模块，依赖模块从仓库获取
mvn clean package -pl test-module1,test-module2
# 打包本模块和依赖模块
mvn clean package -pl -am test-module1,test-module2
```
> 注意：如果被依赖的模块同时依赖其他模块，-am 并不会递归地构建所有依赖的模块，只构建直接依赖于目标模块的子模块。处理方式为将所有涉及到的模块添加到命令中，以逗号分隔。









