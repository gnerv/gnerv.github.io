---
title: maven安装配置
---

# maven安装配置

## maven 安装程序下载

```url
# 最新版本下载
https://maven.apache.org/download.cgi
# 历史版本下载
https://archive.apache.org/dist/maven/maven-3/
```
- Windows 下载 apache-maven-x.x.x-bin.zip
- Mac/Linux 下载 apache-maven-x.x.x-bin.tar.gz
### 解压压缩包到自定义目录下

## 环境变量配置

### Windows / Mac / Linux
- 新建 MAVEN_HOME 环境变量，值为maven部署文件的根目录
- 添加 MAVEN_HOME 变量到 PATH 变量
- Windows: 保存后自动生效
- Mac / Linux: 执行 source ./{配置文件}

## 验证
```
mvn --version
```
> 控制台显示版本信息表示成功。

## 配置阿里巴巴镜像仓库

打开$MAVEN_HOME/conf/settings.xml配置文件,在mirrors标签中添加以下内容

```xml
<mirrors>
   <mirror>
       <id>aliyun-maven</id>
       <mirrorOf>central</mirrorOf>
       <url>https://maven.aliyun.com/repository/public</url>
   </mirror>
</mirrors>
```
> mirrorOf: 镜像获取规则
> - \* : 所有包都从阿里巴巴仓库获取
> - external:* : 除了本地缓存之后的所有包都从阿里巴巴仓库获取
> - central : central仓库的包访问阿里云的
> - external:central:* : 除了本地缓存和central仓库之后的所有包都从阿里巴巴仓库获取

## 基本常用命令
```shell
# 清除编译文件
mvn clean
# 验证项目文件
mvn validate
# 编译项目文件
mvn compile
# 运行测试代码
mvn test
# 打包项目
mvn package
# 验证集成测试
mvn verify
# 部署到本地仓库
mvn install
# 生成项目文档
mvn site
# 部署到远程仓库
mvn deploy
```

## 打包指定模块
```shell
# 只打包本模块，依赖模块从仓库获取
mvn clean package -pl test-module1,test-module2
# 打包本模块和依赖模块
mvn clean package -pl -am test-module1,test-module2
```
> 注意：如果被依赖的模块同时依赖其他模块，-am 并不会递归地构建所有依赖的模块，只构建直接依赖于目标模块的子模块。处理方式为将所有涉及到的模块添加到命令中，以逗号分隔。




