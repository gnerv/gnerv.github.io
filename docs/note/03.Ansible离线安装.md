---
title: Ansible离线安装
---

# Ansible离线安装

## 下载rpm安装文件

这里使用 yum 的方式仅下载安装包和依赖,在一台可以联网的相同系统的服务器上执行以下命令.

```
yum install -y ansible --downloadonly --downloaddir=/opt/ansible-install
```
> 此命令将仅下载 ansible 安装包和依赖
```
==================================================================================================================================================================
 Package                                     Architecture                  Version                                  Repository                               Size
==================================================================================================================================================================
Installing:
 ansible                                     noarch                        2.8.8-1.p01.ky10                         ks10-adv-updates                         15 M
Installing dependencies:
 libsodium                                   x86_64                        1.0.16-7.ky10                            ks10-adv-os                             146 k
 python3-asn1crypto                          noarch                        1.4.0-1.ky10                             Base-OS                                 182 k
 python3-babel                               noarch                        2.8.0-3.ky10                             ks10-adv-updates                        6.1 M
 python3-bcrypt                              x86_64                        3.1.4-8.ky10                             ks10-adv-os                              39 k
 python3-cffi                                x86_64                        1.14.1-1.ky10                            Base-OS                                 237 k
 python3-cryptography                        x86_64                        2.9.2-2.ky10                             ks10-adv-updates                        400 k
 python3-jinja2                              noarch                        2.11.2-2.p01.ky10                        ks10-adv-updates                        223 k
 python3-markupsafe                          x86_64                        1.1.1-1.ky10                             Base-OS                                  28 k
 python3-paramiko                            noarch                        2.4.3-1.ky10.ky10                        ks10-adv-os                             281 k
 python3-ply                                 noarch                        3.11-1.ky10                              Base-OS                                  88 k
 python3-pyasn1                              noarch                        0.3.7-8.ky10                             ks10-adv-os                             215 k
 python3-pycparser                           noarch                        2.20-2.ky10                              Base-OS                                 152 k
 python3-pynacl                              x86_64                        1.2.1-5.ky10                             ks10-adv-os                              77 k
 python3-pyyaml                              x86_64                        5.3.1-4.ky10                             ks10-adv-updates                        189 k
 sshpass                                     x86_64                        1.06-8.ky10                              ks10-adv-os                              24 k

Transaction Summary
==================================================================================================================================================================
Install  16 Packages

Total download size: 23 M
Installed size: 115 M
YUM will only download packages for the transaction.
Downloading Packages:
(1/16): python3-markupsafe-1.1.1-1.ky10.x86_64.rpm                                                                                8.6 MB/s |  28 kB     00:00    
(2/16): python3-asn1crypto-1.4.0-1.ky10.noarch.rpm                                                                                 17 MB/s | 182 kB     00:00    
(3/16): python3-ply-3.11-1.ky10.noarch.rpm                                                                                         12 MB/s |  88 kB     00:00    
(4/16): python3-cffi-1.14.1-1.ky10.x86_64.rpm                                                                                      15 MB/s | 237 kB     00:00    
(5/16): python3-pycparser-2.20-2.ky10.noarch.rpm                                                                                   22 MB/s | 152 kB     00:00    
(6/16): python3-bcrypt-3.1.4-8.ky10.x86_64.rpm                                                                                    181 kB/s |  39 kB     00:00    
(7/16): libsodium-1.0.16-7.ky10.x86_64.rpm                                                                                        500 kB/s | 146 kB     00:00    
(8/16): python3-pyasn1-0.3.7-8.ky10.noarch.rpm                                                                                    1.8 MB/s | 215 kB     00:00    
(9/16): python3-paramiko-2.4.3-1.ky10.ky10.noarch.rpm                                                                             815 kB/s | 281 kB     00:00    
(10/16): python3-pynacl-1.2.1-5.ky10.x86_64.rpm                                                                                   1.1 MB/s |  77 kB     00:00    
(11/16): sshpass-1.06-8.ky10.x86_64.rpm                                                                                           377 kB/s |  24 kB     00:00    
(12/16): python3-cryptography-2.9.2-2.ky10.x86_64.rpm                                                                             1.8 MB/s | 400 kB     00:00    
(13/16): python3-jinja2-2.11.2-2.p01.ky10.noarch.rpm                                                                              1.8 MB/s | 223 kB     00:00    
(14/16): python3-pyyaml-5.3.1-4.ky10.x86_64.rpm                                                                                   1.7 MB/s | 189 kB     00:00    
(15/16): python3-babel-2.8.0-3.ky10.noarch.rpm                                                                                    3.4 MB/s | 6.1 MB     00:01    
(16/16): ansible-2.8.8-1.p01.ky10.noarch.rpm                                                                                      3.2 MB/s |  15 MB     00:04    
------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                             4.7 MB/s |  23 MB     00:04     
Complete!
The downloaded packages were saved in cache until the next successful transaction.
You can remove cached packages by executing 'yum clean packages'.
```
## 复制下载的安装包和依赖至需要的服务器上执行安装

```
yum localinstall {packages_path}/*.rpm
```

## 检查
```
ansible --version
```

> 显示版本信息表示成功。